{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}
    {% set loc = app.request.locale %}
    <div class="content" style="padding-top: 6rem">
        <div class="projects">
            <div class="container">
                <div class="grid-items js-isotope js-grid-items">
                    {% for category in categories %}
                    {% if category.isVisible != 0 %}
                    {% if category.image is not null %}
                    <div class="grid-item inspiration js-isotope-item js-grid-item">
                        <div class="news-item">
                            <img alt="" src="{{ vich_uploader_asset(category, 'imageFile')|imagine_filter('news_thumbnail') }}">
                            <div class="news-hover">
                                <div class="hover-border">
                                    <div></div>
                                </div>
                                <div class="content">
                                    {% if category.categoriesTranslations is not empty %}
                                        {% for trans in category.categoriesTranslations %}
                                            {%if trans.language == loc %}
                                                <h3 class="news-title">{{ trans.name }}</h3>
                                            {% else %}
                                                <h3 class="news-title">{{ category.name }}</h3>
                                            {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        <h3 class="news-title">{{ category.name }}</h3>
                                    {% endif %}
                                    {% if category.categoriesTranslations is not empty %}
                                        {% for trans in category.categoriesTranslations %}
                                            {%if trans.language == loc %}
                                                <p class="news-description">{{ trans.shortDescription }}</p>
                                            {% else %}
                                                <p class="news-description">{{ category.shortDescription }}</p>
                                            {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        <p class="news-description">{{ category.shortDescription }}</p>
                                    {% endif %}
                                </div>
                                <a class="read-more" href="{{ path('category', {'_locale': app.request.locale, 'url': category.url}) }}">Детальніше</a>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endif %}
                    {% endfor %}

                </div>
            </div>
        </div>
    </div>
{{ include('footer.html.twig') }}
{% endblock %}
